{% extends "base.twig" %}

{% block content %}
<div class="container">

    <section class="section">

        <div class="section-content">

            <div class="section-title"><h1>Utilities status</h1></div>
            
            <div class="section-content">

                <table class="table">

                    <tr>
                        <th>Name</th>
                        <th>Path</th>
                        <th>Status</th>
                    </tr>

                    <tr>
                        <td>FFmpeg</td>
                        <td>{{ bins.ffmpeg.path }}</td>
                        <td>{{ bins.ffmpeg.status }}</td>
                    </tr>

                    <tr>
                        <td>Mediainfo</td>
                        <td>{{ bins.mediainfo.path }}</td>
                        <td>{{ bins.mediainfo.status }}</td>
                    </tr>

                    <tr>
                        <td>Twitch chat downloader</td>
                        <td>{{ bins.tcd.path }}</td>
                        <td>{{ bins.tcd.status }}</td>
                    </tr>

                    <tr>
                        <td>Streamlink</td>
                        <td>{{ bins.streamlink.path }}</td>
                        <td>{{ bins.streamlink.status }}</td>
                    </tr>

                    <tr>
                        <td>youtube-dl</td>
                        <td>{{ bins.youtubedl.path }}</td>
                        <td>{{ bins.youtubedl.status }}</td>
                    </tr>

                    <tr>
                        <td>Pipenv</td>
                        <td>{{ bins.pipenv.path }}</td>
                        <td>{% autoescape %} {{ bins.pipenv.status|raw }} {% endautoescape %}</td>
                    </tr>

                    <tr>
                        <td>TwitchDownloaderCLI</td>
                        <td>{{ bins.twitchdownloader.path }}</td>
                        <td>{% autoescape %} {{ bins.twitchdownloader.status|raw }} {% endautoescape %}</td>
                    </tr>

                </table>

                <hr />

                <a href="?update_check=1">Check for updates</a>

                <hr />

                <p>This app tries to find all the executables using system utilities. This may not work if they're on a custom PATH. Please visit <a href="{{ url_for('settings') }}">settings</a> to manually change them.</p>

                <hr />

                <strong>Python version:</strong> {{ bins.python.version ?: '(no output)' }}<br />
                <strong>Python3 version:</strong> {{ bins.python3.version ?: '(no output)' }}<br />
                <strong>PHP version:</strong> {{ bins.php.version ?: '(no output)' }}<br />
                <strong>Platform:</strong> {{ bins.php.platform ?: '(no output)' }}

                <hr />
                
                <code>pip install --user youtube-dl streamlink tcd pipenv</code>

                <ul>
                    <li><a href="https://www.python.org/downloads/" target="_blank">Python</a></li>
                    <li><a href="https://ffmpeg.zeranoe.com/builds/" target="_blank">FFmpeg builds for windows</a></li>
                    <li><a href="https://mediaarea.net/en/MediaInfo" target="_blank">MediaInfo</a></li>
                    <li><a href="https://github.com/lay295/TwitchDownloader" target="_blank">TwitchDownloader</a></li>
                </ul>

            </div>
            
        </div>

    </section>

</div>
{% endblock %}
